<!DOCTYPE html>
<html>
<head>
    <title>Supersearcher Launcher</title>
</head>
<body>
    <h2>Launch Supersearcher</h2>
    <button onclick="launchSupersearcher()">Launch in about:blank</button>

    <script>
        function launchSupersearcher() {
            const win = window.open("about:blank");

            if (!win) {
                alert("Popup blocked. Please allow popups and try again.");
                return;
            }

            const htmlContent = `
<!DOCTYPE html>
<html>
<head>
    <title>Supersearcher Local</title>
    <base target="_parent">
    <style>
        html, body, #page {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        center {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        iframe#frame {
            height: 95vh;
            width: 95vw;
            border: none;
            padding: 1px;
            border-radius: 8px;
        }
        button, input {
            border-radius: 4px;
        }
        input#searchfield {
            width: 50vw;
        }
    </style>
    <script>
        function fllscrn() {
            document.getElementById("page").requestFullscreen();
        }

        function search() {
            document.getElementById('frame').src = document.getElementById("searchfield").value;
        }

        function newWin() {
            const w = window.open();
            w.document.body.innerHTML = '<iframe allowfullscreen src="assets/wow.html" width="100%" height="100%" style="border:none;" id="frame">';
        }

        function toolsMenu() {
            var option = prompt("Select an option\\n1: Show info\\n2: Use local wow page");
            if (option == "1") {
                alert("Version info: Super Searcher 2.5\\nBundled WOW version: 2.5\\nBy default, the wow page comes from an online source which is dynamically updated.");
            } else if (option == "2") {
                document.getElementById('frame').src = 'assets/wow.html';
            } else {
                alert("Invalid option");
            }
        }
    <\/script>
</head>
<body>
    <div id="page">
        <center>
            <iframe allowfullscreen src="https://sugarylettuce49.github.io/SuperSearcher/wow.html" id="frame"></iframe>
            <div>
                <button onclick="document.getElementById('frame').src = 'https://sugarylettuce49.github.io/SuperSearcher/wow.html'" style="width:10%">Home</button>
                <button onclick="toolsMenu()" style="width:10%">Tools</button>
                <input type="text" id="searchfield" value="https://" />
                <button onclick="search()" style="width:5%">Go</button>
                <button onclick="fllscrn()" style="width:18%">Fullscreen Webpage</button>
            </div>
        </center>
    </div>
</body>
</html>
`;

            win.document.open();
            win.document.write(htmlContent);
            win.document.close();
        }
    </script>
</body>
</html>
